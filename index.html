<html>
    <head>
        <meta charset=utf-8>
        <title>Shaders</title>
        <style>

            body {
                margin: 0px;
                width: 100%;
                height: 100vh;
                overflow: hidden;
            }

            .world {
                width: 100%;
                height: 100%;
                overflow: hidden;
                background: linear-gradient(#e4e0ba, #f7d9aa);
            }

        </style>
    </head>
    <body>
        <section id="world" class="world"></section>

        <script type="x-shader/x-vertex" id="vertexshader">
            
            // create a shared variable for the VS and FS containing the normal
            varying vec3 vNormal;

            void main() {

                // set the vNormal value with the attribute value passed in by Three.js
                vNormal = normal;
                
                // update the position of the vertex
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

            }

        </script>

        <script type="x-shader/x-fragment" id="fragmentshader">

            // same name and type as VS
            varying vec3 vNormal;

            void main() {

                // calculate the dot product and clamp
                // 0 -> 1 rather than -1 -> 1
                vec3 light = vec3(0.5, 0.2, 1.0);

                // ensure it's normalized
                light = normalize(light);

                // calculate the dot product of
                // the light to the vertex normal
                float dProd = max(0.0, dot(vNormal, light));

                // feed into our frag colour: vec4(r, g, b, a)
                gl_FragColor = vec4(dProd, dProd,  dProd,  1.0);

            }

        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/98/three.min.js"></script>
        <script src="js/app.js"></script>
        <script>

            document.addEventListener('DOMContentLoaded', (e) => {

                const url = new URL(window.location.href)

                const app = new App()

            });

        </script>
    </body>
</html>
